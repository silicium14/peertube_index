<html>
<style><%= EEx.eval_file("templates/search_component.css.eex") %></style>
<style>
article {
    display: flex;
    margin-bottom: 10px;
}
article img {
    height: 100px;
    border: 1px solid;
    margin-right: 10px;
    padding: 5px;
}
article h3 {
    margin-top: 0;
}
article a {
    text-decoration: none;
    color: inherit;
}
</style>
<body>
<header>
    <%= EEx.eval_file("templates/search_component.html.eex", [query: query]) %>
</header>

<%= for video <- videos do %>
    <article>
        <img src='https://raw.githubusercontent.com/Chocobozzz/PeerTube/develop/client/src/assets/images/icons/icon-512x512.png'>
        <div>
            <h3><%=
                Phoenix.HTML.Link.link(
                video["name"],
                to: "https://#{video["account"]["host"]}/videos/watch/#{video["uuid"]}"
                ) |> Phoenix.HTML.safe_to_string
            %></h3>
            <ul>
                <li><%=
                    Phoenix.HTML.Link.link(
                        "User: #{video["account"]["displayName"]}",
                        to: video["account"]["url"]
                    ) |> Phoenix.HTML.safe_to_string
                %></li>
                <li><%=
                    Phoenix.HTML.Link.link(
                        "Channel: #{video["channel"]["displayName"]}",
                        to: video["channel"]["url"]
                    ) |> Phoenix.HTML.safe_to_string
                %></li>
                <li><%=
                    Phoenix.HTML.Link.link(
                        "Instance: #{video["account"]["host"]}",
                        to: "https://#{video["account"]["host"]}"
                    ) |> Phoenix.HTML.safe_to_string
                %></li>
            </ul>
        </div>
    </article>
<% end %>

</body>
</html>
